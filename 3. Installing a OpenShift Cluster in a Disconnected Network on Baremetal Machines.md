## 2.4 Quay Registry Configuration. 
 
Install podman and container-selinux packages for standalone registry

    [root@dc1fbreg01 ~]# yum module install container-tools:4.0 -y


Check podman and buildah version needed for Quay Mirror Registry as it needs podman version greater than 3.0

    [root@dc1fbreg01 ~]# skopeo -v
    skopeo version 1.6.2-maint

    [root@dc1fbreg01 ~]# podman version
    Client:       Podman Engine
    Version:      4.0.2
    API Version:  4.0.2
    Go Version:   go1.18.4
    Built:      Tue Aug 30 16:23:06 2022
    OS/Arch:    linux/amd64

Install the Quay Mirror Registry 

    [root@dc1fbreg01 ~]# 

Certificate pem directory placement.

    [root@dc1fbreg01 ~]# 


Online pull secret download and configure serve to quay registry.

    [root@dc1fbreg01 ~]# 

Setting up variables requirements for ocp images

    [root@dc1fbreg01 ~]# 

Downloading and Pushing OCP-Base-Images

    [root@dc1fbreg01 ~]# 

## 2.3. Mirror OCP 4.12 Images to Quay Mirror Registry

Download and Install oc-mirror cli command line tool to use the plugin to download images.
Mirror the version images to the internal container registry
Create the ImageSetConfiguration with the cluster version and redhat-operator index image
Listing Operators after pushed in Quay registry.
Verify the registry storage size and repositories availability
Verify that, the version information that you mirrored to local registry is matching with quay.io registry


## 8. Removing the kubeadmin user

After you define an identity provider and create a new cluster-admin user, you can remove the kubeadmin to improve cluster security.


> **[!WARNING]**
> If you follow this procedure before another user is a cluster-admin, then OpenShift Container Platform must be reinstalled. It is not possible to undo this command.

### Prerequisites

* You must have configured at least one identity provider.
* You must have added the cluster-admin role to a user.
* You must be logged in as an administrator.

Retrieve the kubeadmin secret details as shown below
    
    [root@dc1fbreg01 ~]# oc get secrets kubeadmin -n kube-system
    NAME        TYPE     DATA   AGE
    kubeadmin   Opaque   1      97d


Remove the kubeadmin secret as shown below


    [root@dc1fbreg01 ~]# oc delete secrets kubeadmin -n kube-system
    secret "kubeadmin" deleted


Verify if the kubeadmin secret no more exists as shown below
    
    [root@dc1fbreg01 ~]# oc get secrets kubeadmin -n kube-system
    Error from server (NotFound): secrets "kubeadmin" not found